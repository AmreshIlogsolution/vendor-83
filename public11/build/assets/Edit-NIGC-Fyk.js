import{r as u,W as f,j as e,a as d,Y as N}from"./app-Bt_6XCBy.js";import{I as n}from"./InputError-9IdEtRUa.js";import{I as o}from"./InputLabel-tdkfygDH.js";import{S as c}from"./SelectInput-j_UTT43g.js";import"./TextAreaInput-C2-49sEM.js";import{T as m}from"./TextInput-K5lOjXVy.js";import{A as y}from"./AuthenticatedLayout-4VYv6WnY.js";import"./ApplicationLogo-BQQTWGUn.js";import"./transition-BguNPC1n.js";const w={colorScheme:"dark"};function U({auth:x,invoice:l,invoiceType:v,billto:_,states:h,invoiceDetails:j}){const[p,k]=u.useState(l.invoice_image),{data:s,setData:t,post:g,errors:i,reset:F}=f({invoice_type:l.invoice_type||"",invoice_financial_year:l.invoice_financial_year||"",bill_to:l.bill_to||"",bill_from:l.bill_from||"",invoice_date:l.invoice_date||"",invoice_number:l.invoice_number||"",reference_number:l.reference_number||"",invoice_amount:l.invoice_amount||"",bill_type:l.bill_type||"",tax:l.tax||"",tax_amount:l.tax_amount||"",total_tax_amount:"",invoice_image:"",remarks:l.remarks||"",_method:"PUT"}),b=a=>{a.preventDefault(),g(route("invoice.update",l.id))};return u.useEffect(()=>{t("total_tax_amount",s.tax*s.tax_amount/100)},[s.tax_amount]),e.jsxs(y,{user:x.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:["Edit invoice ",l.invoice_number]}),e.jsx("span",{className:`bg-blue-500 py-1 px-8 text-white rounded shadow transition-all
           hover:bg-blue-600 float-right  `,children:e.jsx(d,{href:route("invoice.index"),children:"Back to invoice"})})]}),children:[e.jsx(N,{title:"invoices"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-8xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:b,className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"invoiceType_status",value:"invoice Type  Status"}),e.jsxs(c,{name:"invoice_type",id:"invoice_type",value:s.invoice_type,className:"mt-1 block w-full",onChange:a=>t("invoice_type",a.target.value),children:[e.jsx("option",{value:"",children:"Select Invoice Type"}),v.map((a,r)=>e.jsx("option",{value:a.invoice_type,children:a.invoice_type},r))]}),e.jsx(n,{message:i.invoice_type,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"invoice_Fy",value:"Invoice Financial Year"}),e.jsxs(c,{name:"invoice_financial_year",id:"invoice_financial_year",value:s.invoice_financial_year,className:"mt-1 block w-full",onChange:a=>t("invoice_financial_year",a.target.value),children:[e.jsx("option",{value:"",children:"Select Invoice Financial Year"}),e.jsx("option",{value:"2024-2025",children:"2004-2025"})]}),e.jsx(n,{message:i.invoice_financial_year,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"bill_to",value:"Bill To"}),e.jsxs(c,{name:"bill_to",id:"bill_to",value:s.bill_to,className:"mt-1 block w-full",onChange:a=>t("bill_to",a.target.value),children:[e.jsx("option",{value:"",children:"Select Bill To"}),_.map((a,r)=>e.jsx("option",{value:a.WHname,children:a.WHname},r))]}),e.jsx(n,{message:i.bill_to,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"bill_from",value:"Bill From"}),e.jsxs(c,{name:"bill_from",id:"bill_from",value:s.bill_from,className:"mt-1 block w-full",onChange:a=>t("bill_from",a.target.value),children:[e.jsx("option",{value:"",children:"Select Bill From"}),h.map((a,r)=>e.jsx("option",{value:a.name,children:a.name},r))]}),e.jsx(n,{message:i.bill_from,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"invoice_date",value:"Invoice Date"}),e.jsx(m,{style:w,id:"invoice_date",min:new Date().toISOString().split("T")[0],max:"2025-04-30",type:"date",name:"invoice_date",value:s.invoice_date,className:"mt-1 block w-full",onChange:a=>t("invoice_date",a.target.value)}),e.jsx(n,{message:i.invoice_date,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"invoice_number",value:"Invoice Number"}),e.jsx(m,{id:"invoice_number",type:"number",name:"invoice_number",value:s.invoice_number,className:"mt-1 block w-full",isFocused:!0,onChange:a=>t("invoice_number",a.target.value)}),e.jsx(n,{message:i.invoice_number,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"reference_number",value:"Reference Number"}),e.jsx(m,{id:"reference_number",type:"text",name:"reference_number",value:s.reference_number,className:"mt-1 block w-full",isFocused:!0,onChange:a=>t("reference_number",a.target.value)}),e.jsx(n,{message:i.reference_number,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"invoice_amount",value:"Invoice Amount"}),e.jsx(m,{id:"invoice_amount",type:"text",name:"invoice_amount",value:s.invoice_amount,className:"mt-1 block w-full",isFocused:!0,onChange:a=>t("invoice_amount",a.target.value)}),e.jsx(n,{message:i.invoice_amount,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"bill_type",value:"Bill Type"}),e.jsxs(c,{name:"bill_type",id:"bill_type",value:s.bill_type,className:"mt-1 block w-full",onChange:a=>t("bill_type",a.target.value),children:[e.jsx("option",{value:"",children:"Select Bill Type"}),e.jsx("option",{value:"GST",children:"GST"}),e.jsx("option",{value:"IGST",children:"IGST"})]}),e.jsx(n,{message:i.bill_type,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"tax",value:"Tax"}),e.jsxs(c,{name:"tax",id:"tax",value:s.tax,className:"mt-1 block w-full",onChange:a=>t("tax",a.target.value),children:[e.jsx("option",{value:"",children:"Select Tax"}),e.jsx("option",{value:"0",children:"Nil"}),e.jsx("option",{value:"5",children:"5 %"}),e.jsx("option",{value:"12",children:"12 %"}),e.jsx("option",{value:"18",children:"18 %"}),e.jsx("option",{value:"28",children:"28 %"})]}),e.jsx(n,{message:i.tax,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"tax_amount",value:"Tax Amount"}),e.jsx(m,{id:"tax_amount",type:"text",name:"tax_amount",value:s.tax_amount,className:"mt-1 block w-full",isFocused:!0,onChange:a=>t("tax_amount",a.target.value)}),e.jsx(n,{message:i.tax_amount,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"total_tax_amount",value:"Total tex amount"}),e.jsx(m,{id:"total_tax_amount",type:"text",name:"total_tax_amount",value:s.total_tax_amount,className:"mt-1 block w-full",isFocused:!0,disabled:!0,onChange:a=>t("total_tax_amount",a.target.value)}),e.jsx(n,{message:i.total_tax_amount,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(o,{htmlFor:"remarks",value:"Remarks"}),e.jsx(m,{id:"remarks",name:"remarks",value:s.remarks,className:"mt-1 block w-full",onChange:a=>t("remarks",a.target.value)}),e.jsx(n,{message:i.remarks,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"invoice_image",value:"Upload Invoice"}),e.jsx(m,{id:"invoice_image",type:"file",name:"invoice_image",className:"mt-1 block w-full",onChange:a=>t("invoice_image",a.target.files[0])}),e.jsx(n,{message:i.invoice_image,className:"mt-2"})]}),e.jsxs("div",{children:[" ",e.jsx(o,{htmlFor:"upload_document",value:"Upload documents(Select multiple files to upload)"}),e.jsx(m,{id:"upload_document",type:"file",multiple:!0,name:"upload_document",className:"mt-1 block w-full",onChange:a=>t("upload_document",a.target.files)}),e.jsx(n,{message:i.upload_document,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:l.invoice_image&&e.jsx("div",{className:"mt-4 flex items-center justify-center h-full",children:e.jsx("img",{src:p,className:"w-full max-w-2xl"})})}),e.jsx("div",{children:e.jsx("div",{className:"w-full  col-span-2 border-l px-8 py-4 mt-4",children:e.jsx("div",{className:" h-[670px] overflow-y-scroll space-y-2 px-2 ",children:j[0].invoice_detail.map((a,r)=>e.jsx("div",{className:"p-2 border border-gray-500 rounded-md hover:bg-gray-700 active:scale-95 focus:scale-95 duration-150",children:e.jsx("a",{href:a.invoice_image,target:"_blank",rel:"noopener noreferrer",children:e.jsxs("span",{className:" text-white flex gap-x-4",children:[e.jsx("h1",{children:`${r+1}) `})," ",e.jsx("h1",{children:"Invoice Document"})]})})},r))})})})]}),e.jsxs("div",{className:"mt-4 text-right",children:[e.jsx(d,{href:route("invoice.index"),className:"bg-gray-100 py-1 px-3 text-gray-800 rounded shadow transition-all hover:bg-gray-200 mr-2",children:"Cancel"}),e.jsx("button",{className:"bg-yellow-600 py-1 px-3 text-white rounded shadow transition-all hover:bg-yellow-500",children:"Update"})]})]})})})})]})}export{U as default};
